{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container align-items-center w-50">
    <h3>Edit Job {{job.query_name}}</h3>
    <form method="post">
        {% csrf_token %}
        <div class="form-group">
            <label for="query_name">Query Name</label>
            <input class="form-control" type="text" id="query_name" name="query_name" value="{{job.query_name}}">
        </div>
        <div class="form-group">
            <label for="query_id">Query Id</label>
            <input class="form-control" type="number" id="query_id" name="query_id" value="{{job.id}}">
        </div>
        <div class="form-group">
            <label for="parameters">Parameters</label>
            <input class="form-control" type="text" id="parameters" name="parameters" value="{{job.parameters}}">
        </div>
        <div class="form-group">
            <label for="is_active">Active? (Check if yes)</label>
            <input class="form-control" type="checkbox" id="is_active" name="is_active" value=""{% if job.is_active %} checked{% endif %}>
        </div>
        <div class="form-group">
            <label for="configured_emails">Configured Emails</label>
            <input class="form-control" type="text" id="configured_emails" name="configured_emails" value="{{job.configured_emails}}">
        </div>
        <div class="form-group">
            <label for="schedule">Schedule (In Hours)</label>
            <input class="form-control" type="number" id="schedule" name="schedule" value="{{job.schedule}}">
        </div>
        <div class="form-group">
            <label for="is_excel_required">Is Required as Excel? (Check if yes)</label>
            <input class="form-control" type="checkbox" id="is_excel_required" name="is_excel_required" value=""{% if job.is_excel_required %} checked{% endif %}>
        </div>
        <div class="form-group">
            <label for="is_sftp_used">Should be pushed to SFTP? (Check if yes)</label>
            <input class="form-control" type="checkbox" id="is_sftp_used" name="is_sftp_used" value=""{% if job.is_sftp_used %} checked{% endif %}>
        </div>
        <div class="form-group">
            <label for="sftp_host">SFTP Host</label>
            <input class="form-control" type="text" id="sftp_host" name="sftp_host" value="{{job.sftp_host}}">
        </div>
        <div class="form-group">
            <label for="sftp_username">SFTP Username</label>
            <input class="form-control" type="text" id="sftp_username" name="sftp_username" value="{{job.sftp_username}}">
        </div>
        <div class="form-group">
            <label for="sftp_password">SFTP Password</label>
            <input class="form-control" type="text" id="sftp_password" name="sftp_password" value="{{job.sftp_password}}">
        </div>
        <div class="form-group">
            <label for="sftp_path">SFTP Path</label>
            <input class="form-control" type="text" id="sftp_path" name="sftp_path" value="{{job.sftp_path}}">
        </div>
        <button type="submit" class="btn btn-primary mb-2" formaction="{% url 'savejob' id=id %}">Save</button>
        <button type="submit" class="btn btn-danger mb-2" formaction="{% url 'deletejob' id=id %}">Delete</button>
    </form>
</div>
{% endblock %}
